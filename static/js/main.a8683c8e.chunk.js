(this.webpackJsonpcarsharing=this.webpackJsonpcarsharing||[]).push([[0],{391:function(e,t,c){},392:function(e,t,c){},393:function(e,t,c){},394:function(e,t,c){},395:function(e,t,c){},400:function(e,t,c){},401:function(e,t,c){},402:function(e,t,c){},403:function(e,t,c){},404:function(e,t,c){},405:function(e,t,c){},407:function(e,t,c){},408:function(e,t,c){},409:function(e,t,c){},410:function(e,t,c){},411:function(e,t,c){},412:function(e,t,c){},413:function(e,t,c){},414:function(e,t,c){},415:function(e,t,c){},416:function(e,t,c){},417:function(e,t,c){},418:function(e,t,c){},419:function(e,t,c){},420:function(e,t,c){},421:function(e,t,c){},422:function(e,t,c){"use strict";c.r(t);var a=c(0),n=(c(196),c(205),c(1)),r=c.n(n),s=c(190),i=c.n(s),o=(c(391),c(54)),l=c(15),d=c(3);c(392);var u=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1];return Object(a.jsxs)("section",{className:"navbar",children:[Object(a.jsxs)("div",{className:"navbar__hamburger-menu",children:[Object(a.jsx)("button",{className:"navbar__btn ".concat(c?"navbar__btn_close":""),onClick:function(){r(!c)}}),Object(a.jsx)("p",{className:"navbar__language",onClick:function(){l(!o)},children:o?"\u0420\u0443\u0441":"Eng"})]}),c&&Object(a.jsxs)("nav",{className:"navbar__menu",children:[Object(a.jsxs)("ul",{className:"navbar__list",children:[Object(a.jsx)("li",{className:"navbar__item",children:"\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410"}),Object(a.jsx)("li",{className:"navbar__item  navbar__item_active",children:"\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410"}),Object(a.jsx)("li",{className:"navbar__item",children:"\u0411\u0415\u041d\u0417\u0418\u041d"}),Object(a.jsx)("li",{className:"navbar__item",children:"\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"})]}),Object(a.jsxs)("ul",{className:"navbar__social-media-list",children:[Object(a.jsx)("li",{className:"navbar__social-media",children:Object(a.jsx)("a",{href:"https://www.telegram.org/",rel:"noreferrer",target:"_blank",className:"navbar__social-link",children:Object(a.jsx)("svg",{className:"navbar__social-icon",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16ZM10.7144 14.5343C9.11157 15.2341 7.46472 15.9532 5.95883 16.7826L5.95873 16.7828C5.17241 17.3585 6.21758 17.7657 7.19803 18.1476C7.35391 18.2084 7.50814 18.2685 7.65313 18.3285C7.77377 18.3656 7.89647 18.4047 8.02079 18.4443C9.11124 18.7917 10.3272 19.1791 11.3858 18.5963C13.1248 17.5973 14.766 16.4424 16.4059 15.2883C16.9432 14.9102 17.4803 14.5322 18.0207 14.1598C18.046 14.1436 18.0746 14.1251 18.1058 14.1048C18.5662 13.8064 19.6016 13.1353 19.2186 14.06C18.313 15.0504 17.3429 15.9272 16.3676 16.8087C15.7103 17.4027 15.0506 17.999 14.4066 18.6336C13.8457 19.0894 13.2633 20.0059 13.8914 20.644C15.3379 21.6567 16.8071 22.6449 18.2755 23.6325C18.7533 23.9538 19.231 24.2752 19.7079 24.5972C20.516 25.2425 21.779 24.7206 21.9567 23.7123C22.0357 23.2485 22.115 22.7847 22.1944 22.3208C22.6328 19.7578 23.0713 17.1938 23.4587 14.6223C23.5113 14.219 23.571 13.8156 23.6307 13.4121C23.7755 12.434 23.9204 11.4547 23.9656 10.4714C23.849 9.49009 22.6592 9.70585 21.997 9.9265C18.5935 11.2216 15.224 12.6126 11.8679 14.0282C11.4877 14.1967 11.1023 14.3649 10.7144 14.5343Z"})})})}),Object(a.jsx)("li",{className:"navbar__social-media",children:Object(a.jsx)("a",{href:"https://www.facebook.com/",rel:"noreferrer",target:"_blank",className:"navbar__social-link",children:Object(a.jsx)("svg",{className:"navbar__social-icon",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M32 16C32 7.1625 24.8375 0 16 0C7.1625 0 0 7.1625 0 16C0 23.9875 5.85 30.6062 13.5 31.8062V20.625H9.4375V16H13.5V12.475C13.5 8.46563 15.8875 6.25 19.5438 6.25C21.2938 6.25 23.125 6.5625 23.125 6.5625V10.5H21.1063C19.1188 10.5 18.5 11.7344 18.5 13V16H22.9375L22.2281 20.625H18.5V31.8062C26.15 30.6062 32 23.9875 32 16Z"})})})}),Object(a.jsx)("li",{className:"navbar__social-media",children:Object(a.jsx)("a",{href:"https://www.instagram.com/",rel:"noreferrer",target:"_blank",className:"navbar__social-link",children:Object(a.jsxs)("svg",{className:"navbar__social-icon",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.4822 7.51824C13.3924 7.47682 13.6833 7.46668 16.0008 7.46668H15.9981C18.3164 7.46668 18.6062 7.47682 19.5164 7.51824C20.4248 7.55984 21.0453 7.70366 21.5893 7.91469C22.1511 8.13247 22.6258 8.42403 23.1004 8.8987C23.5751 9.37301 23.8667 9.84911 24.0853 10.4104C24.2951 10.9529 24.4391 11.573 24.4818 12.4815C24.5227 13.3917 24.5333 13.6826 24.5333 16.0001C24.5333 18.3176 24.5227 18.6078 24.4818 19.518C24.4391 20.4261 24.2951 21.0464 24.0853 21.5891C23.8667 22.1502 23.5751 22.6263 23.1004 23.1006C22.6263 23.5753 22.1509 23.8676 21.5898 24.0855C21.0469 24.2965 20.4261 24.4404 19.5176 24.482C18.6074 24.5234 18.3174 24.5335 15.9997 24.5335C13.6824 24.5335 13.3917 24.5234 12.4815 24.482C11.5732 24.4404 10.9529 24.2965 10.41 24.0855C9.84909 23.8676 9.37299 23.5753 8.89886 23.1006C8.42436 22.6263 8.1328 22.1502 7.91467 21.589C7.70382 21.0464 7.56 20.4263 7.51822 19.5178C7.47697 18.6076 7.46666 18.3176 7.46666 16.0001C7.46666 13.6826 7.47733 13.3915 7.51804 12.4813C7.55893 11.5732 7.70293 10.9529 7.91449 10.4102C8.13316 9.84911 8.42472 9.37301 8.89939 8.8987C9.3737 8.4242 9.8498 8.13265 10.411 7.91469C10.9536 7.70366 11.5737 7.55984 12.4822 7.51824Z"}),Object(a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2353 9.00445C15.3839 9.00422 15.5438 9.00429 15.7164 9.00437L16.0008 9.00445C18.2792 9.00445 18.5493 9.01263 19.449 9.05352C20.281 9.09156 20.7326 9.23059 21.0334 9.34739C21.4316 9.50206 21.7155 9.68695 22.014 9.98562C22.3127 10.2843 22.4976 10.5687 22.6526 10.967C22.7694 11.2674 22.9086 11.719 22.9465 12.551C22.9874 13.4505 22.9963 13.7208 22.9963 15.9981C22.9963 18.2755 22.9874 18.5457 22.9465 19.4453C22.9084 20.2773 22.7694 20.7288 22.6526 21.0293C22.4979 21.4275 22.3127 21.7111 22.014 22.0096C21.7153 22.3082 21.4318 22.4931 21.0334 22.6478C20.7329 22.7651 20.281 22.9038 19.449 22.9418C18.5494 22.9827 18.2792 22.9916 16.0008 22.9916C13.7222 22.9916 13.4522 22.9827 12.5526 22.9418C11.7206 22.9034 11.269 22.7644 10.968 22.6476C10.5698 22.4929 10.2854 22.3081 9.98669 22.0094C9.68802 21.7107 9.50313 21.427 9.34811 21.0286C9.23131 20.7281 9.09211 20.2766 9.05424 19.4446C9.01335 18.545 9.00517 18.2748 9.00517 15.996C9.00517 13.7172 9.01335 13.4484 9.05424 12.5488C9.09228 11.7168 9.23131 11.2653 9.34811 10.9645C9.50278 10.5662 9.68802 10.2818 9.98669 9.98313C10.2854 9.68446 10.5698 9.49957 10.968 9.34455C11.2688 9.22721 11.7206 9.08854 12.5526 9.05032C13.3398 9.01476 13.6449 9.0041 15.2353 9.00232V9.00445ZM20.5559 10.4213C19.9905 10.4213 19.5319 10.8795 19.5319 11.445C19.5319 12.0103 19.9905 12.469 20.5559 12.469C21.1212 12.469 21.5799 12.0103 21.5799 11.445C21.5799 10.8797 21.1212 10.421 20.5559 10.421V10.4213ZM11.6185 16.0001C11.6185 13.58 13.5806 11.6179 16.0006 11.6178C18.4207 11.6178 20.3824 13.58 20.3824 16.0001C20.3824 18.4202 18.4209 20.3815 16.0008 20.3815C13.5807 20.3815 11.6185 18.4202 11.6185 16.0001Z"}),Object(a.jsx)("path",{d:"M16.0008 13.1556C17.5717 13.1556 18.8453 14.4291 18.8453 16.0001C18.8453 17.571 17.5717 18.8446 16.0008 18.8446C14.4298 18.8446 13.1563 17.571 13.1563 16.0001C13.1563 14.4291 14.4298 13.1556 16.0008 13.1556Z"})]})})})]})]})]})},b=(c(393),c.p+"static/media/locality.480be180.svg");var j=function(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("p",{className:"header__logo",lang:"en",children:"Need for drive"}),Object(a.jsxs)("p",{className:"header__place",children:[Object(a.jsx)("img",{className:"header__place-icon",src:b,alt:"\u041c\u0435\u0442\u043a\u0430"}),"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"]})]})};c(394);var m=function(e){var t=e.className,c=e.onClick,n=e.disabled,r=e.text;return Object(a.jsx)("button",{className:t,onClick:c,disabled:n,children:r})};c(395);var h=function(){return Object(a.jsxs)("section",{className:"main-content",children:[Object(a.jsx)("h1",{className:"main-content__title main-content__title_rus",children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(a.jsx)("h2",{className:"main-content__title main-content__title_en",lang:"en",children:"Need for drive"}),Object(a.jsx)("p",{className:"main-content__text",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(a.jsx)(o.b,{to:"/order-form/location",children:Object(a.jsx)(m,{text:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",className:"button button_max"})})]})};c(400);var p=function(){return Object(a.jsxs)("footer",{className:"footer",children:[Object(a.jsx)("p",{className:"footer__contacts footer__contacts_copyright",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(a.jsx)("p",{className:"footer__contacts footer__contacts_phone",children:"8 (495) 234-22-44"})]})};c(401);var f=function(e){var t=e.image,c=e.title,n=e.description,r=e.btnClassName;return Object(a.jsxs)("div",{className:"slider__content",style:{backgroundImage:"url(".concat(t,")")},children:[Object(a.jsx)("h2",{className:"slider__title",children:c}),Object(a.jsx)("p",{className:"slider__text",children:n}),Object(a.jsx)(m,{text:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",className:r})]})},O=(c(402),c.p+"static/media/btn_prev.1752ae91.svg"),_=c.p+"static/media/btn_next.7591c327.svg";var x=function(e){return Object(a.jsxs)(a.Fragment,{children:["left"===e.direction&&Object(a.jsx)("button",{className:"slider__btn slider__btn_prev",onClick:e.handleClick,children:Object(a.jsx)("img",{className:"slider__btn-image",src:O,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043b\u0435\u0432\u043e"})}),"right"===e.direction&&Object(a.jsx)("button",{className:"slider__btn slider__btn_next",onClick:e.handleClick,children:Object(a.jsx)("img",{className:"slider__btn-image",src:_,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u043f\u0440\u0430\u0432\u043e"})})]})};c(403);var v=function(e){return Object(a.jsx)("div",{className:"slider__pagination",children:e.slides.map((function(t,c){return e.activeIndex===c?Object(a.jsx)("div",{className:"slider__dot slider__dot_active"},t+c):Object(a.jsx)("div",{className:"slider__dot"},t+c)}))})},C=[{image:c.p+"static/media/parking.64653039.jpg",title:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",description:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.",btnClassName:"button button_middle button_theme_green"},{image:c.p+"static/media/insurance.e1b2fc8e.jpg",title:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",description:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",btnClassName:"button button_middle button_theme_blue"},{image:c.p+"static/media/petrol.81ba9457.jpg",title:"\u0411\u0435\u043d\u0437\u0438\u043d",description:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",btnClassName:"button button_middle button_theme_red"},{image:c.p+"static/media/service.23cd4320.jpg",title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",description:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",btnClassName:"button button_middle button_theme_violet"}],g="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api",N={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer 52efbe08228671240494f537f2486bc109a637b4"},y={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer 52efbe08228671240494f537f2486bc109a637b4","Content-type":"application/json"},k="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/",S="434c60eb-7e25-434d-8607-ff46d664dc87",w="https://geocode-maps.yandex.ru/1.x/?format=json",I=[{type:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",id:"fullTank",price:"".concat(500,"\u0440")},{type:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",id:"babyChair",price:"".concat(200,"\u0440")},{type:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",id:"rightHandDrive",price:"".concat(1600,"\u0440")}],M=[{type:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",id:"allModels"},{type:"\u042d\u043a\u043e\u043d\u043e\u043c",id:"economModels"},{type:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c",id:"premiumModels"}],A=[/[0-3]/,/\d/,".",/[0-1]/,/\d/,".","2","0","2",/\d/," ",/[0-2]/,/\d/,":",/[0-5]/,/\d/];c(404);var F=function(){var e=r.a.useState(0),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(a.jsxs)("section",{className:"slider",children:[Object(a.jsx)(f,{image:C[c].image,title:C[c].title,description:C[c].description,btnClassName:C[c].btnClassName}),Object(a.jsx)(x,{direction:"right",handleClick:function(){if(c===C.length-1)return n(0);n(c+1)}}),Object(a.jsx)(x,{direction:"left",handleClick:function(){if(0===c)return n(C.length-1);n(c-1)}}),Object(a.jsx)(v,{slides:C,activeIndex:c})]})};c(405);var E=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"title-page",children:[Object(a.jsx)(j,{}),Object(a.jsx)(h,{}),Object(a.jsx)(p,{})]}),Object(a.jsx)(F,{})]})},T=c(50),D=(c(407),c.p+"static/media/arrow.3f54b55d.svg");var L=function(e){var t=Object(l.f)(),c=Object(l.g)(),r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(n.useState)(!1),j=Object(d.a)(b,2),m=j[0],h=j[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),O=f[0],_=f[1],x=Object(T.withNaming)({n:"",e:"__",m:"_"});return Object(n.useEffect)((function(){"/order-form/model"===c.pathname?u(!0):u(!1),"/order-form/additionally"===c.pathname?h(!0):h(!1),"/order-form/total"===c.pathname?_(!0):_(!1)}),[c.pathname]),Object(a.jsx)("ul",{className:"breadcrumbs",children:e.isConfirmedOrder?Object(a.jsxs)("li",{className:x("breadcrumbs","link")({type:"dark"}),children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ",Object(a.jsx)("span",{children:e.orderId})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("li",{className:"breadcrumbs__item",children:[Object(a.jsx)(o.c,{className:"breadcrumbs__link",activeClassName:"breadcrumbs__link_active",to:"/order-form/location",children:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(a.jsx)("img",{className:"breadcrumbs__arrow",src:D,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430"})]}),Object(a.jsxs)("li",{className:"breadcrumbs__item",children:[Object(a.jsx)("p",{className:"breadcrumbs__link ".concat(i?"breadcrumbs__link_active":""),onClick:function(){e.isActiveModel&&t.push("/order-form/model")},children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(a.jsx)("img",{className:"breadcrumbs__arrow",src:D,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430"})]}),Object(a.jsxs)("li",{className:"breadcrumbs__item",children:[Object(a.jsx)("p",{className:"breadcrumbs__link ".concat(m?"breadcrumbs__link_active":""),onClick:function(){e.isActiveAdditionally&&t.push("/order-form/additionally")},children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),Object(a.jsx)("img",{className:"breadcrumbs__arrow",src:D,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430"})]}),Object(a.jsx)("li",{className:"breadcrumbs__item",children:Object(a.jsx)("p",{className:"breadcrumbs__link ".concat(O?"breadcrumbs__link_active":""),onClick:function(){e.isActiveTotal&&t.push("/order-form/total")},children:"\u0418\u0442\u043e\u0433\u043e"})})]})})},P=c(21),V=c.n(P),G=c(42),H=c(76),Z=c(192),q=c.n(Z);c(408);var B=function(e){var t=e.type,c=e.id,r=e.name,s=e.value,i=e.placeholder,o=e.urlEnd,l=e.content,u=e.options,b=e.setOptions,j=e.onChange,m=e.setSearch,h=e.handleClear,p=e.handleSubmit,f=e.required,O=Object(n.useState)(!1),_=Object(d.a)(O,2),x=_[0],v=_[1],C=Object(n.useState)(!1),y=Object(d.a)(C,2),k=y[0],S=y[1];return Object(n.useEffect)((function(){var e=[];if("city"===c||"point"===c){S(!0);var t=new AbortController,a=t.signal;Object(G.a)(V.a.mark((function n(){var r;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(g).concat(o),{method:"GET",headers:N,signal:a});case 3:return r=n.sent,n.next=6,r.json();case 6:n.sent.data.map((function(t){return"city"===c?(e.push({name:t.name,id:t.id}),sessionStorage.setItem(t.name,t.id)):e.push({city:t.cityId.name,address:t.address,cityId:t.cityId.id,pointId:t.id}),e})),S(!1),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 14:return b(e),n.abrupt("return",(function(){t.abort()}));case 16:case"end":return n.stop()}}),n,null,[[0,11]])})))()}}),[o,c]),Object(a.jsxs)("div",{className:"autocomplete",children:[Object(a.jsx)("label",{className:"autocomplete__name",htmlFor:c,children:l}),"city"===c||"point"===c?Object(a.jsx)("input",{type:t,id:c,name:r,onClick:function(){return v(!x)},placeholder:i,className:"autocomplete__input",value:s,onChange:j,autoComplete:"off",required:f}):Object(a.jsx)(q.a,{mask:A,type:t,id:c,name:r,className:"autocomplete__input",value:s,onChange:j,autoComplete:"off",placeholder:i,required:f}),""!==s&&Object(a.jsx)("button",{type:"button",className:"autocomplete__btn-reset",onClick:h}),x&&"city"===c&&Object(a.jsxs)("ul",{className:"autocomplete__list",children:[k&&Object(a.jsx)("li",{className:"autocomplete__item",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0433\u043e\u0440\u043e\u0434\u0430..."}),u.filter((function(e){return e.name.toLowerCase().startsWith("".concat(s).toLowerCase())})).map((function(e,t){return Object(a.jsx)("li",{onClick:function(){return t=e.name,m(t),void v(!1);var t},className:"autocomplete__item",children:e.name},t)}))]}),x&&"point"===c&&Object(a.jsxs)("ul",{className:"autocomplete__list",children:[k&&Object(a.jsx)("li",{className:"autocomplete__item",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043f\u0443\u043d\u043a\u0442\u044b..."}),u.filter((function(e){return e.address.toLowerCase().startsWith("".concat(s).toLowerCase())})).map((function(e,t){return Object(a.jsx)("li",{onClick:function(){return m((t=e).address),p(t),void v(!1);var t},className:"autocomplete__item",children:e.address},t)}))]})]})},R=(c(409),c.p+"static/media/placemark.c961018a.svg");var z=function(e){var t,c,r,s=e.handleSubmit,i=e.orderPoint,o=Object(n.useState)(""),l=Object(d.a)(o,2),u=l[0],b=l[1],j=Object(n.useState)(""),m=Object(d.a)(j,2),h=m[0],p=m[1],f=Object(n.useState)([]),O=Object(d.a)(f,2),_=O[0],x=O[1],v=Object(n.useState)([]),C=Object(d.a)(v,2),g=C[0],N=C[1],y=Object(n.useState)([54.321251,48.3809734]),k=Object(d.a)(y,2),I=k[0],M=k[1],A=Object(n.useState)([54.321251,48.3809734]),F=Object(d.a)(A,2),E=F[0],T=F[1],D=Object(n.useState)([]),L=Object(d.a)(D,2),P=L[0],Z=L[1];return t=""!==u?"/db/point?cityId=".concat(sessionStorage.getItem(u)):"/db/point",c=u&&!h?12:h?14:6,r=""!==h?E:I,Object(n.useEffect)((function(){i.address&&(b(i.city),p(i.address))}),[i]),Object(n.useEffect)((function(){""!==u&&Object(G.a)(V.a.mark((function e(){var t,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(w,"&geocode=").concat(u,"&apikey=").concat(S));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,M(c.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ").reverse()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[u]),Object(n.useEffect)((function(){var e=[];""!==u&&""!==g.join()&&(g.forEach((function(t){Object(G.a)(V.a.mark((function c(){var a,n;return V.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fetch("".concat(w,"&geocode=").concat(t.city,",+").concat(t.address,"&apikey=").concat(S));case 3:return a=c.sent,c.next=6,a.json();case 6:n=c.sent,e.push(n.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ").reverse()),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 13:case"end":return c.stop()}}),c,null,[[0,10]])})))()})),Z(e))}),[g,u]),Object(n.useEffect)((function(){if(""!==h&&""!==g.join()){var e=g.reduce((function(e,t){return t.address===h&&(e=t.city),e}),"");Object(G.a)(V.a.mark((function t(){var c,a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(w,"&geocode=").concat(e,",+").concat(h,"&apikey=").concat(S));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,T(a.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ").reverse()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}),[h,g]),Object(a.jsxs)("form",{className:"location",children:[Object(a.jsxs)("div",{className:"location__container",children:[Object(a.jsx)(B,{type:"text",id:"city",name:"city",value:u,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434 ...",urlEnd:"/db/city",content:"\u0413\u043e\u0440\u043e\u0434",options:_,setOptions:function(e){return x(e)},onChange:function(e){return b(e.target.value)},setSearch:function(e){return b(e)},handleClear:function(){b("")}}),Object(a.jsx)(B,{type:"text",id:"point",name:"point",value:h,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 ...",urlEnd:t,content:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",options:g,setOptions:function(e){return N(e)},onChange:function(e){return p(e.target.value)},setSearch:function(e){return p(e)},handleClear:function(){p("")},handleSubmit:s,required:"required"})]}),Object(a.jsx)("p",{className:"location__item",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(a.jsx)(H.c,{children:Object(a.jsxs)(H.a,{className:"location__map",state:{center:r,zoom:c},children:[h&&Object(a.jsx)(H.b,{geometry:E,options:{iconLayout:"default#image",iconImageHref:R,iconImageSize:[18,18],iconImageOffset:[0,0]}}),u&&P.map((function(e,t){return Object(a.jsx)(H.b,{geometry:e,options:{iconLayout:"default#image",iconImageHref:R,iconImageSize:[18,18],iconImageOffset:[0,0]}},t)}))]})})]})},W=function(e){var t;if(e>=1e3){var c=parseInt(e/1e3,10);if(e%1e3===0)t="".concat(c," 000");else{var a=1e3*(e/1e3-c).toFixed(3)+"";t=2===a.length?"".concat(c," 0").concat(a):1===a.length?"".concat(c," 00").concat(a):"".concat(c," ").concat(a)}}else t=e;return t};c(410);var J=function(e){var t=e.carObject,c=e.handleSubmit,r=e.isActive,s=e.setIsActive,i=Object(n.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){t.thumbnail.path.startsWith("data")?u(t.thumbnail.path):u("".concat(k).concat(t.thumbnail.path))}),[t.thumbnail.path]),Object(a.jsxs)("div",{className:"card ".concat(t.name===r?"card_active":""),onClick:function(){return function(e){c(e),s(e.name)}(t)},children:[Object(a.jsx)("h3",{className:"card__title",children:t.name}),Object(a.jsxs)("div",{className:"card__price-container",children:[Object(a.jsx)("span",{className:"card__price",children:W(t.priceMin)}),Object(a.jsx)("span",{className:"card__price",children:"-"}),Object(a.jsx)("span",{className:"card__price",children:W(t.priceMax)}),Object(a.jsx)("span",{className:"card__price",children:"\u20bd"})]}),Object(a.jsx)("img",{className:"card__image",crossOrigin:"anonymous",referrerPolicy:"origin",src:l,alt:"\u0424\u043e\u0442\u043e \u043c\u0430\u0448\u0438\u043d\u044b"})]})};c(411);var U=function(e){var t=e.value,c=e.name,n=e.values,r=e.onChange,s=e.modifier,i=Object(T.withNaming)({n:"",e:"__",m:"_"});return Object(a.jsx)("div",{className:i("radio-group")({type:s}),children:n.map((function(e,n){return Object(a.jsxs)("p",{className:i("radio-group","item")({type:s}),children:[Object(a.jsx)("input",{className:"radio-group__radio",type:"radio",name:c,id:e.id,value:e.type,onChange:r,checked:t===e.type}),Object(a.jsxs)("label",{className:"radio-group__name",htmlFor:e.id,children:[e.type,e.price&&e.unit&&Object(a.jsxs)("span",{children:[", ",e.price," \u20bd/",e.unit]}),e.price&&!e.unit&&Object(a.jsxs)("span",{children:[", ",e.price]})]})]},n)}))})};c(412);var X=function(e){var t=Object(n.useState)(M[0].type),c=Object(d.a)(t,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){e.search&&s(e.search),e.modelName&&u(e.modelName)}),[e.search,e.modelName]),Object(a.jsxs)("div",{className:"car-model",children:[Object(a.jsx)("form",{className:"car-model__form",children:Object(a.jsx)(U,{value:r,name:"modelType",values:M,onChange:function(t){s(t.target.value),e.setSearch(t.target.value)}})}),Object(a.jsxs)("div",{className:"car-model__card-container",children:[e.isLoading&&Object(a.jsx)("p",{className:"car-model__loading",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043c\u0430\u0448\u0438\u043d\u044b..."}),"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"===r&&e.cards.map((function(t){return Object(a.jsx)(J,{carObject:t,handleSubmit:e.handleSubmit,isActive:l,setIsActive:u},t.id)})),("\u042d\u043a\u043e\u043d\u043e\u043c"===r||"\u041f\u0440\u0435\u043c\u0438\u0443\u043c"===r)&&e.filteredCards.map((function(t,c){return Object(a.jsx)(J,{carObject:t,handleSubmit:e.handleSubmit,isActive:l,setIsActive:u},c)}))]})]})},K=c(193),Q=c(77);c(413);var Y=function(e){var t=e.values,c=e.onChange,n=e.checkedValues;return Object(a.jsx)("div",{className:"checkbox-group",children:t.map((function(e,t){return Object(a.jsxs)("p",{title:e.message,className:"checkbox-group__item",children:[Object(a.jsx)("input",{className:"checkbox-group__checkbox",type:"checkbox",name:e.id,id:e.id,value:e.type,onChange:c,disabled:e.disabled,checked:!!n.includes(e.type)}),Object(a.jsxs)("label",{className:"checkbox-group__name",htmlFor:e.id,children:[e.type,Object(a.jsxs)("span",{children:[", ",e.price]})]})]},t)}))})};function $(e){var t=e.substr(0,2),c=e.substr(3,2),a=e.substr(6,4),n=e.substr(-5,2),r=e.substr(-2,2);return new Date(a,c-1,t,n,r)}function ee(e,t){var c=$(e);return($(t)-c)/1e3/60}var te=function(e,t,c,a,n){var r=function(e,t,c,a){var n,r=ee(e,t),s=r/60/24;if("\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u043e"===c){var i=a.find((function(e){return e.type===c}));n=r.toFixed()*i.price}else if("\u041d\u0430 \u0441\u0443\u0442\u043a\u0438"===c){var o=a.find((function(e){return e.type===c}));n=Number.isInteger(s)?s*o.price:(parseInt(s)+1)*o.price}return n}(e,t,c,n);return a&&(a.includes("\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a")?r+=500:r+=0,a.includes("\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e")?r+=200:r+=0,a.includes("\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c")?r+=1600:r+=0),r};c(414);var ce=function(e){var t=e.handleSubmit,c=e.colors,r=e.getTotalPrice,s=e.setSearchFromDate,i=e.setSearchToDate,o=e.searchFromDate,l=e.searchToDate,u=e.tank,b=e.rates,j=e.orderOtherServices,m=Object(n.useState)(),h=Object(d.a)(m,2),p=h[0],f=h[1],O=Object(n.useState)([]),_=Object(d.a)(O,2),x=_[0],v=_[1],C=100===u,g=I.map((function(e){return"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"!==e.type||C?Object(Q.a)(Object(Q.a)({},e),{},{disabled:!1}):Object(Q.a)(Object(Q.a)({},e),{},{disabled:!0,message:"\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"})})),N="\u0426\u0432\u0435\u0442",y="\u0422\u0430\u0440\u0438\u0444",k=c.map((function(e,t){return{type:(c=e,c.substr(0,1).toUpperCase()+c.substr(1).toLowerCase()),id:"color".concat(t)};var c})),S=[{type:"\u041b\u044e\u0431\u043e\u0439",id:"any"}].concat(k),w=Object(n.useState)(S[0].type),M=Object(d.a)(w,2),A=M[0],F=M[1];return Object(n.useEffect)((function(){if(j){for(var e=j.find((function(e){return Object.values(e).includes(N)})),t=j.find((function(e){return Object.values(e).includes(y)})),c=[],a=function(e){var t=j.find((function(t){return Object.values(t).includes(I[e].type)}));t&&t.name?c.push(t.title):c.push("")},n=0;n<I.length;n++)a(n);e&&F(e.name),f(t?t.name:b[0].type),c&&v(c)}o&&l&&(s(o),i(l))}),[j,b,o,l,s,i]),Object(n.useEffect)((function(){!function(e,t,c,a,n){var s=te(e,t,c,a,n);s&&s>0&&r(s)}(o,l,p,x,b)}),[o,l,p,x,b]),Object(a.jsxs)("form",{className:"additionally",children:[Object(a.jsx)("h4",{className:"additionally__title",children:N}),Object(a.jsx)(U,{value:A,name:"color",values:S,onChange:function(e){F(e.target.value),t(N,e.target.value)},modifier:"wrap"}),Object(a.jsx)("h4",{className:"additionally__title",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(a.jsxs)("div",{className:"additionally__date-container",children:[Object(a.jsx)(B,{type:"text",id:"fromDate",name:"fromDate",value:o,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",content:"\u0421",onChange:function(e){s(e.target.value)},handleClear:function(){s("")}}),Object(a.jsx)(B,{type:"text",id:"toDate",name:"toDate",value:l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",content:"\u041f\u043e",onChange:function(e){i(e.target.value);var c=function(e,t){var c=ee(e,t),a=c/60,n=a/24,r=parseInt(n,10),s=parseInt(a-24*r,10),i=a-24*r;return n>=1&&Number.isInteger(n)?"".concat(n,"\u0434"):n>=1&&Number.isInteger(a)?"".concat(r,"\u0434 ").concat(s,"\u0447"):n>=1&&!Number.isInteger(a)?"".concat(r,"\u0434 ").concat(s,"\u0447 ").concat((60*(i-s)).toFixed(),"\u043c\u0438\u043d"):n<1&&n>0&&Number.isInteger(a)?"".concat(s,"\u0447"):n<1&&n>0&&!Number.isInteger(a)?"".concat(s,"\u0447 ").concat((60*(i-s)).toFixed(),"\u043c\u0438\u043d"):n<1&&n>0&&a<1&&a>0&&c>0?"".concat(c.toFixed(),"\u043c\u0438\u043d"):void 0}(o,e.target.value);t("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",c)},handleClear:function(){i("")},required:"required"})]}),Object(a.jsx)("h4",{className:"additionally__title",children:y}),Object(a.jsx)(U,{value:p,name:"rate",values:b,onChange:function(e){f(e.target.value),t(y,e.target.value)},modifier:"column"}),Object(a.jsx)("h4",{className:"additionally__title",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(a.jsx)(Y,{values:g,onChange:function(e){var c,a=x.slice(),n=a.some((function(t){return t===e.target.value}));if(n){var r=a.filter((function(t){return t!==e.target.value}));v(r)}else v([].concat(Object(K.a)(x),[e.target.value]));c=n?"":"\u0414\u0430",t(e.target.value,c)},checkedValues:x})]})};c(415);var ae=function(e){var t,c=e.carModel,r=e.startDate,s=e.isConfirmedOrder,i=e.isCancelledOrder,o=Object(n.useState)(""),l=Object(d.a)(o,2),u=l[0],b=l[1],j=Object(n.useState)(""),m=Object(d.a)(j,2),h=m[0],p=m[1];return Object(n.useEffect)((function(){s&&p("\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"),i&&p("\u043e\u0442\u043c\u0435\u043d\u0451\u043d")}),[s,i]),Object(n.useEffect)((function(){c.thumbnail.path.startsWith("data")?b(c.thumbnail.path):b("".concat(k).concat(c.thumbnail.path))}),[c.thumbnail.path]),Object(a.jsxs)("div",{className:"total",children:[Object(a.jsxs)("div",{className:"total__container",children:[(s||i)&&Object(a.jsxs)("h2",{className:"total__status",children:["\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 ",Object(a.jsx)("span",{children:h})]}),Object(a.jsx)("h3",{className:"total__auto-model",children:c.name}),c.number&&Object(a.jsx)("p",{className:"total__car-number",children:(t=c.number,"".concat(t.substr(0,1).toUpperCase()," ").concat(t.substr(1,3)," ").concat(t.substr(4,2).toUpperCase()))}),!!c.tank&&Object(a.jsxs)("p",{className:"total__item",children:["\u0422\u043e\u043f\u043b\u0438\u0432\u043e",Object(a.jsxs)("span",{className:"total__value",children:[c.tank,"%"]})]}),Object(a.jsxs)("p",{className:"total__item",children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441",Object(a.jsx)("span",{className:"total__value",children:r})]})]}),Object(a.jsx)("img",{className:"total__image",crossOrigin:"anonymous",referrerPolicy:"origin",src:u,alt:"\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0430\u044f \u043c\u0430\u0448\u0438\u043d\u0430"})]})};c(416);var ne=function(e){var t=e.title,c=e.name,n=e.modifier,r=Object(T.withNaming)({n:"",e:"__",m:"_"});return Object(a.jsxs)("div",{className:"item",children:[Object(a.jsx)("p",{className:"item__text",children:t}),Object(a.jsx)("div",{className:"item__line"}),Object(a.jsx)("p",{className:r("item","text")({type:"thin",size:n}),children:c})]})};c(417);var re=function(e){var t=e.priceMin,c=e.priceMax,n=e.price,r=Object(T.withNaming)({n:"price-",e:"__",m:"_"});return Object(a.jsxs)("div",{className:"price-container",children:[t&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:r("container","item")({type:"title"}),children:"\u0426\u0435\u043d\u0430:"}),Object(a.jsx)("span",{className:"price-container__item",children:"\u043e\u0442"}),Object(a.jsx)("span",{className:"price-container__item",children:t}),Object(a.jsx)("span",{className:"price-container__item",children:"\u0434\u043e"}),Object(a.jsx)("span",{className:"price-container__item",children:c}),Object(a.jsx)("span",{className:"price-container__item",children:"\u20bd"})]}),n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:r("container","item")({type:"title"}),children:"\u0426\u0435\u043d\u0430:"}),Object(a.jsx)("span",{className:"price-container__item",children:n}),Object(a.jsx)("span",{className:"price-container__item",children:"\u20bd"})]})]})};c(418);var se=function(e){var t=e.togglePopup,c=e.confirmOrder;return Object(a.jsxs)("div",{className:"popup",children:[Object(a.jsx)("h2",{className:"popup__title",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(a.jsxs)("div",{className:"popup__button-container",children:[Object(a.jsx)(m,{text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",className:"button button_middle-plus",onClick:c}),Object(a.jsx)(m,{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",className:"button button_middle button_theme_red",onClick:t})]})]})};c(419);var ie=function(e){var t,c=e.setIsActiveModel,r=e.setIsActiveAdditionally,s=e.setIsActiveTotal,i=e.setIsConfirmedOrder,o=e.isConfirmedOrder,u=e.setOrderId,b=Object(n.useState)({}),j=Object(d.a)(b,2),h=j[0],p=j[1],f=Object(n.useState)({}),O=Object(d.a)(f,2),_=O[0],x=O[1],v=Object(n.useState)([]),C=Object(d.a)(v,2),k=C[0],S=C[1],w=Object(n.useState)(""),I=Object(d.a)(w,2),M=I[0],A=I[1],F=Object(n.useState)([]),E=Object(d.a)(F,2),T=E[0],D=E[1],L=Object(n.useState)(!1),P=Object(d.a)(L,2),H=P[0],Z=P[1],q=Object(n.useState)([]),B=Object(d.a)(q,2),R=B[0],J=B[1],U=Object(n.useState)(!1),K=Object(d.a)(U,2),Q=K[0],Y=K[1],ee=Object(n.useState)(""),te=Object(d.a)(ee,2),ie=te[0],oe=te[1],le=Object(n.useState)(""),de=Object(d.a)(le,2),ue=de[0],be=de[1],je=Object(n.useState)(""),me=Object(d.a)(je,2),he=me[0],pe=me[1],fe=Object(n.useState)([]),Oe=Object(d.a)(fe,2),_e=Oe[0],xe=Oe[1],ve=Object(n.useState)(!1),Ce=Object(d.a)(ve,2),ge=Ce[0],Ne=Ce[1],ye=R.some((function(e){return!!e.name&&Object.values(e).includes("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b")})),ke=Object(l.f)(),Se=Object(l.g)(),we=Object(n.useState)(!0),Ie=Object(d.a)(we,2),Me=Ie[0],Ae=Ie[1];function Fe(){Y(!Q)}function Ee(e){var t,c=R.find((function(e){return"\u0426\u0432\u0435\u0442"===e.title}));t=c?c.name.toLowerCase():_.colors[0];var a,n=R.find((function(e){return Object.values(e).includes("\u0422\u0430\u0440\u0438\u0444")}));n?a=_e.find((function(e){return e.type===n.name})).id:a=_e[0].id;var r=$(ie),s=$(ue),i=R.some((function(e){return"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"===e.title&&e.name})),o=R.some((function(e){return"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"===e.title&&e.name})),l=R.some((function(e){return"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"===e.title&&e.name}));return fetch("".concat(g,"/db/order/"),{method:"POST",headers:y,body:JSON.stringify({orderStatusId:e,cityId:h.cityId,pointId:h.pointId,carId:_.id,color:t,dateFrom:+r,dateTo:+s,rateId:a,price:he,isFullTank:i,isNeedChildChair:o,isRightWheel:l})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}return t="/order-form/location"===Se.pathname?"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c":"/order-form/model"===Se.pathname?"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e":"/order-form/additionally"===Se.pathname?"\u0418\u0442\u043e\u0433\u043e":"/order-form/total"!==Se.pathname||o?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",Object(n.useEffect)((function(){"/order-form/location"===Se.pathname&&h.address&&(Ae(!1),c(!0)),"/order-form/model"===Se.pathname&&_.name&&(Ae(!1),r(!0)),"/order-form/additionally"===Se.pathname&&ye&&he>=_.priceMin&&he<=_.priceMax&&(Ae(!1),s(!0)),"/order-form/additionally"===Se.pathname&&(!ye||he<_.priceMin||he>_.priceMax)&&(Ae(!0),s(!1))}),[ye,Se.pathname,_,h,he]),Object(n.useEffect)((function(){Z(!0),Object(G.a)(V.a.mark((function e(){var t,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/db/car"),{method:"GET",headers:N});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,S(c.data),Z(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(n.useEffect)((function(){Object(G.a)(V.a.mark((function e(){var t,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/db/rate"),{method:"GET",headers:N});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,xe(c.data.map((function(e){return{type:e.rateTypeId.name,id:e.rateTypeId.id,price:e.price,unit:e.rateTypeId.unit}}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430. \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(n.useEffect)((function(){D(k.filter((function(e){return"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"!==M?e.categoryId.name===M:k})))}),[k,M]),Object(n.useEffect)((function(){he&&(he<_.priceMin||he>_.priceMax)&&alert("\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0431\u0440\u0430\u0442\u044c \u0441\u0443\u043c\u043c\u0443 \n         \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(W(_.priceMin),"\u0440\u0443\u0431\n         \u0438 \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ").concat(W(_.priceMax),"\u0440\u0443\u0431. \n         \u0421\u0435\u0439\u0447\u0430\u0441 \u0440\u0430\u0441\u0447\u0435\u0442\u043d\u0430\u044f \u0446\u0435\u043d\u0430 = ").concat(W(he),"\u0440\u0443\u0431."))}),[he,_]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"order",children:[Object(a.jsx)("h2",{className:"order__title",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}),h.city&&Object(a.jsx)(ne,{title:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",name:"".concat(h.city,", ").concat(h.address),modifier:"point"}),"/order-form/location"!==Se.pathname&&Object(a.jsx)(ne,{title:"\u041c\u043e\u0434\u0435\u043b\u044c",name:_.name}),"/order-form/location"!==Se.pathname&&"/order-form/model"!==Se.pathname&&R.map((function(e,t){return e.name&&Object(a.jsx)(ne,{title:e.title,name:e.name},t)})),"/order-form/model"===Se.pathname&&_&&Object(a.jsx)(re,{priceMin:W(_.priceMin),priceMax:W(_.priceMax)}),"/order-form/model"!==Se.pathname&&"/order-form/location"!==Se.pathname&&Object(a.jsx)(re,{price:W(he)}),Object(a.jsx)(m,{text:t,className:"button button_max button_order ".concat(Me?"button_disabled":""," ").concat(o?"button_theme_red":""),onClick:function(){if("/order-form/location"===Se.pathname)ke.push("/order-form/model"),Ae(!0);else if("/order-form/model"===Se.pathname)ke.push("/order-form/additionally"),Ae(!0);else if("/order-form/additionally"===Se.pathname)ke.push("/order-form/total");else if("/order-form/total"!==Se.pathname||o){Ee("5e26a1f5099b810b946c5d8c").then((function(e){Ne(!0),Ae(!0),i(!1)})).catch((function(e){console.log(e),alert("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0438 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437.")}))}else Fe()},disabled:Me}),Q&&Object(a.jsx)(se,{confirmOrder:function(){Ee("5e26a1f0099b810b946c5d8b").then((function(e){u(e.data.id),Fe(),i(!0),ke.push("/order-form/total/".concat(e.data.id))})).catch((function(e){console.log(e),alert("\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437.\n           \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\n           \u0438\u043b\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442")}))},togglePopup:Fe})]}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/order-form/location",children:Object(a.jsx)(z,{handleSubmit:function(e){p(e)},orderPoint:h})}),Object(a.jsx)(l.a,{path:"/order-form/model",children:Object(a.jsx)(X,{handleSubmit:function(e){x(e)},cards:k,search:M,isLoading:H,filteredCards:T,setSearch:A,modelName:_.name})}),Object(a.jsx)(l.a,{path:"/order-form/additionally",children:Object(a.jsx)(ce,{handleSubmit:function(e,t){var c=R.slice();c.some((function(t){return t.title===e}))?c.find((function(t){return t.title===e})).name=t:c.push({title:e,name:t}),J(c)},colors:_.colors,getTotalPrice:function(e){pe(e)},setSearchFromDate:oe,setSearchToDate:be,searchFromDate:ie,searchToDate:ue,tank:_.tank,rates:_e,orderOtherServices:R})}),Object(a.jsx)(l.a,{path:"/order-form/total",children:Object(a.jsx)(ae,{carModel:_,startDate:ie,isConfirmedOrder:o,isCancelledOrder:ge})})]})]})};c(420);var oe=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),j=b[0],m=b[1],h=Object(n.useState)(!1),p=Object(d.a)(h,2),f=p[0],O=p[1],_=Object(n.useState)(""),x=Object(d.a)(_,2),v=x[0],C=x[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{isActiveModel:c,isActiveAdditionally:o,isActiveTotal:j,isConfirmedOrder:f,orderId:v}),Object(a.jsx)("div",{className:"order-form",children:Object(a.jsx)(ie,{setIsActiveModel:r,setIsActiveAdditionally:l,setIsActiveTotal:m,setIsConfirmedOrder:O,isConfirmedOrder:f,setOrderId:C})})]})};c(421);var le=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{className:"start-screen",children:[Object(a.jsx)(u,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/carsharing-app",children:Object(a.jsx)(E,{})}),Object(a.jsx)(l.a,{path:"/order-form",children:Object(a.jsxs)("div",{className:"order-page",children:[Object(a.jsx)(j,{}),Object(a.jsx)(oe,{})]})})]})]})})},de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,423)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(le,{})}),document.getElementById("root")),de()}},[[422,1,2]]]);
//# sourceMappingURL=main.a8683c8e.chunk.js.map